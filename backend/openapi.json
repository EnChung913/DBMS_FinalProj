{
  "openapi": "3.0.0",
  "paths": {
    "/api": {
      "get": {
        "operationId": "AppController_getHello",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "App"
        ]
      }
    },
    "/api/auth/test": {
      "post": {
        "operationId": "AuthController_verifyAccessToken",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Access token is valid."
          },
          "401": {
            "description": "Invalid or expired access token."
          }
        },
        "summary": "Verify Access Token",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/auth/register": {
      "post": {
        "operationId": "AuthController_register",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "User registered successfully."
          },
          "400": {
            "description": "Email or username already exists."
          }
        },
        "summary": "Register a new user",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/auth/login": {
      "post": {
        "operationId": "AuthController_login",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User logged in successfully."
          },
          "400": {
            "description": "Invalid credentials or account locked."
          }
        },
        "summary": "User login",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/auth/refresh": {
      "post": {
        "operationId": "AuthController_refresh",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Access token refreshed successfully."
          },
          "401": {
            "description": "No refresh token provided or invalid refresh token."
          }
        },
        "summary": "Refresh access token",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/auth/me": {
      "get": {
        "operationId": "AuthController_me",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Current user info retrieved successfully."
          }
        },
        "summary": "Get current user info",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/auth/logout": {
      "post": {
        "operationId": "AuthController_logout",
        "parameters": [],
        "responses": {
          "200": {
            "description": "User logged out successfully."
          }
        },
        "summary": "User logout",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/auth/2fa/generate": {
      "post": {
        "operationId": "AuthController_generate2FA",
        "parameters": [],
        "responses": {
          "200": {
            "description": "2FA secret and QR code generated successfully."
          }
        },
        "summary": "Generate 2FA secret and QR code",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/auth/2fa/enable": {
      "post": {
        "operationId": "AuthController_enable2FA",
        "parameters": [],
        "responses": {
          "200": {
            "description": "2FA enabled successfully."
          }
        },
        "summary": "Enable 2FA",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/auth/2fa/unlock": {
      "post": {
        "operationId": "AuthController_unlock",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Account unlocked successfully."
          }
        },
        "summary": "Unlock account using 2FA",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/student/profile": {
      "put": {
        "operationId": "StudentController_upsertProfile",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpsertStudentProfileDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Profile upserted successfully."
          }
        },
        "summary": "Upsert student profile",
        "tags": [
          "Student"
        ]
      },
      "get": {
        "operationId": "StudentController_getMyProfile",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Profile retrieved successfully."
          }
        },
        "summary": "Get student profile for frontend store",
        "tags": [
          "Student"
        ]
      }
    },
    "/api/student/gpa": {
      "get": {
        "operationId": "StudentController_getGpa",
        "parameters": [],
        "responses": {
          "200": {
            "description": "GPA retrieved successfully."
          }
        },
        "summary": "Get student GPA for frontend store",
        "tags": [
          "Student"
        ]
      }
    },
    "/api/student/achievement": {
      "get": {
        "operationId": "StudentController_getAchievement",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Achievements retrieved successfully."
          }
        },
        "summary": "Get student achievements for dashboard",
        "tags": [
          "Student"
        ]
      }
    },
    "/api/student/application/my": {
      "get": {
        "operationId": "ApplicationController_getApplications",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Applications retrieved successfully."
          }
        },
        "summary": "Get student applications",
        "tags": [
          "Application"
        ]
      }
    },
    "/api/student/application/{resourceId}": {
      "delete": {
        "operationId": "ApplicationController_cancelApplication",
        "parameters": [
          {
            "name": "resourceId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Application canceled successfully."
          }
        },
        "summary": "Cancel a student application",
        "tags": [
          "Application"
        ]
      }
    },
    "/api/student/application/create": {
      "post": {
        "operationId": "ApplicationController_createApplication",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateApplicationDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Application created successfully."
          }
        },
        "summary": "Create a new application",
        "tags": [
          "Application"
        ]
      }
    },
    "/api/student/achievement/create": {
      "post": {
        "operationId": "AchievementController_createAchievement",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAchievementDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Achievement created successfully."
          }
        },
        "summary": "Create a new achievement",
        "tags": [
          "Student Achievement"
        ]
      }
    },
    "/api/department/achievements/list": {
      "get": {
        "operationId": "DepartmentController_getPendingAchievements",
        "parameters": [],
        "responses": {
          "202": {
            "description": "Get pending achievements for department"
          }
        },
        "summary": "Get pending achievements for department",
        "tags": [
          "Department"
        ]
      }
    },
    "/api/department/achievements/{id}/file": {
      "get": {
        "operationId": "DepartmentController_getAttachment",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Achievement attachment file retrieved successfully."
          }
        },
        "summary": "Get achievement attachment file",
        "tags": [
          "Department"
        ]
      }
    },
    "/api/department/achievements/{id}/download": {
      "get": {
        "operationId": "DepartmentController_downloadAttachment",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Achievement attachment file downloaded successfully."
          }
        },
        "summary": "Download achievement attachment file",
        "tags": [
          "Department"
        ]
      }
    },
    "/api/department/achievements/{id}/review": {
      "patch": {
        "operationId": "DepartmentController_reviewAchievement",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Department"
        ]
      }
    },
    "/api/company/filter-students": {
      "post": {
        "operationId": "CompanyController_searchStudents",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SearchStudentDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "Company"
        ]
      }
    },
    "/api/resource/create": {
      "post": {
        "operationId": "ResourceController_createResource",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateResourceDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Resource created successfully."
          }
        },
        "summary": "Create a new resource",
        "tags": [
          "Resource"
        ]
      }
    },
    "/api/resource/my": {
      "get": {
        "operationId": "ResourceController_getMyResources",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successfully retrieved user resources."
          }
        },
        "summary": "Get resources belonging to the authenticated user",
        "tags": [
          "Resource"
        ]
      }
    },
    "/api/resource/list": {
      "get": {
        "operationId": "ResourceController_getAllResources",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successfully retrieved all resources."
          }
        },
        "summary": "Get all resources visible to students",
        "tags": [
          "Resource"
        ]
      }
    },
    "/api/resource/{resource_id}/status": {
      "patch": {
        "operationId": "ResourceController_updateStatus",
        "parameters": [
          {
            "name": "resource_id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully updated resource status."
          }
        },
        "summary": "Update the status of a resource",
        "tags": [
          "Resource"
        ]
      }
    },
    "/api/resource/{id}": {
      "get": {
        "operationId": "ResourceController_getResourceById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved a resource by ID."
          }
        },
        "summary": "Get a resource by its ID",
        "tags": [
          "Resource"
        ]
      }
    },
    "/api/resource/{resource_id}/modify": {
      "post": {
        "operationId": "ResourceController_modifyResource",
        "parameters": [
          {
            "name": "resource_id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateResourceDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successfully modified resource."
          }
        },
        "summary": "Modify a resource",
        "tags": [
          "Resource"
        ]
      }
    },
    "/api/resource/{resourceId}/applications/review": {
      "put": {
        "operationId": "ResourceReviewController_reviewApplications",
        "parameters": [
          {
            "name": "resourceId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReviewApplicationsDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Review completed"
          }
        },
        "summary": "Review resource applications",
        "tags": [
          "Resource Review"
        ]
      }
    },
    "/api/resource/{resourceId}/applications": {
      "get": {
        "operationId": "ResourceReviewController_getPendingApplications",
        "parameters": [
          {
            "name": "resourceId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Pending applications retrieved successfully"
          }
        },
        "summary": "Get pending applications for a resource",
        "tags": [
          "Resource Review"
        ]
      }
    },
    "/api/resource/{condition_id}/edit": {
      "put": {
        "operationId": "ResourceConditionController_editCondition",
        "parameters": [
          {
            "name": "condition_id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpsertResourceConditionDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Condition updated successfully."
          },
          "404": {
            "description": "Condition not found."
          }
        },
        "summary": "Edit a resource condition by condition ID",
        "tags": [
          "Resource Condition"
        ]
      }
    },
    "/api/resource/{resource_id}/condition": {
      "post": {
        "operationId": "ResourceConditionController_createCondition",
        "parameters": [
          {
            "name": "resource_id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpsertResourceConditionDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Condition created successfully."
          },
          "400": {
            "description": "Invalid input."
          }
        },
        "summary": "Create a new resource condition for a resource",
        "tags": [
          "Resource Condition"
        ]
      },
      "get": {
        "operationId": "ResourceConditionController_getConditions",
        "parameters": [
          {
            "name": "resource_id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Conditions retrieved successfully."
          }
        },
        "summary": "Get all conditions for a resource",
        "tags": [
          "Resource Condition"
        ]
      },
      "delete": {
        "operationId": "ResourceConditionController_deleteAllByResource",
        "parameters": [
          {
            "name": "resource_id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "All conditions deleted successfully."
          }
        },
        "summary": "Delete all conditions for a resource",
        "tags": [
          "Resource Condition"
        ]
      }
    },
    "/api/resource/condition/{condition_id}": {
      "delete": {
        "operationId": "ResourceConditionController_deleteCondition",
        "parameters": [
          {
            "name": "condition_id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Condition deleted successfully."
          },
          "404": {
            "description": "Condition not found."
          }
        },
        "summary": "Delete a specific condition by condition ID",
        "tags": [
          "Resource Condition"
        ]
      }
    },
    "/api/push/resource": {
      "get": {
        "operationId": "PushController_pushResources",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successfully retrieved recommended resources list"
          }
        },
        "summary": "Push Resources to Student",
        "tags": [
          "Push"
        ]
      }
    },
    "/api/push/student": {
      "get": {
        "operationId": "PushController_pushStudents",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successfully retrieved recommended students list"
          }
        },
        "summary": "Push Students to Company",
        "tags": [
          "Push"
        ]
      }
    },
    "/api/event/resource/{id}/click": {
      "post": {
        "operationId": "EventController_clickResource",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "x-resource-type",
            "required": true,
            "in": "header",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Click recorded successfully."
          }
        },
        "summary": "Record a click on a resource by a user",
        "tags": [
          "Event"
        ]
      }
    },
    "/api/event/student/{id}/view": {
      "post": {
        "operationId": "EventController_viewStudent",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "View recorded successfully."
          }
        },
        "summary": "Record a company viewing a student profile",
        "tags": [
          "Event"
        ]
      }
    },
    "/api/common/departments": {
      "get": {
        "operationId": "CommonController_getDepartments",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of departments."
          }
        },
        "summary": "Get all departments",
        "tags": [
          "Common"
        ]
      }
    },
    "/api/common/set-admin/{userId}": {
      "post": {
        "operationId": "CommonController_setAdmin",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User promoted to admin."
          }
        },
        "summary": "Promote a user to admin",
        "tags": [
          "Common"
        ]
      }
    },
    "/api/common/health": {
      "get": {
        "operationId": "CommonController_healthCheck",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Service is healthy."
          }
        },
        "summary": "Health check endpoint",
        "tags": [
          "Common"
        ]
      }
    },
    "/api/metrics": {
      "get": {
        "operationId": "PrometheusController_index",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Prometheus"
        ]
      }
    }
  },
  "info": {
    "title": "API docs",
    "description": "My NestJS API manual",
    "version": "1.0",
    "contact": {}
  },
  "tags": [],
  "servers": [],
  "components": {
    "schemas": {
      "RegisterDto": {
        "type": "object",
        "properties": {}
      },
      "LoginDto": {
        "type": "object",
        "properties": {}
      },
      "UpsertStudentProfileDto": {
        "type": "object",
        "properties": {}
      },
      "CreateApplicationDto": {
        "type": "object",
        "properties": {}
      },
      "CreateAchievementDto": {
        "type": "object",
        "properties": {}
      },
      "SearchStudentDto": {
        "type": "object",
        "properties": {}
      },
      "CreateResourceDto": {
        "type": "object",
        "properties": {}
      },
      "ReviewApplicationsDto": {
        "type": "object",
        "properties": {}
      },
      "UpsertResourceConditionDto": {
        "type": "object",
        "properties": {}
      }
    }
  }
}